(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const u of r)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function n(r){const u={};return r.integrity&&(u.integrity=r.integrity),r.referrerpolicy&&(u.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?u.credentials="include":r.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(r){if(r.ep)return;r.ep=!0;const u=n(r);fetch(r.href,u)}})();function d(){}function ce(t,e){for(const n in e)t[n]=e[n];return t}function le(t){return t&&typeof t=="object"&&typeof t.then=="function"}function ne(t){return t()}function H(){return Object.create(null)}function E(t){t.forEach(ne)}function re(t){return typeof t=="function"}function M(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let A;function J(t,e){return A||(A=document.createElement("a")),A.href=e,t===A.href}function ue(t){return Object.keys(t).length===0}function _(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function ie(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function x(t){return document.createTextNode(t)}function C(){return x(" ")}function oe(){return x("")}function Q(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function se(t){return function(e){return e.preventDefault(),t.call(this,e)}}function y(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function fe(t){return Array.from(t.childNodes)}function V(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function W(t,e){t.value=e??""}let N;function $(t){N=t}function ae(){if(!N)throw new Error("Function called outside component initialization");return N}const S=[],X=[],O=[],Y=[],de=Promise.resolve();let R=!1;function he(){R||(R=!0,de.then(z))}function U(t){O.push(t)}const T=new Set;let L=0;function z(){const t=N;do{for(;L<S.length;){const e=S[L];L++,$(e),_e(e.$$)}for($(null),S.length=0,L=0;X.length;)X.pop()();for(let e=0;e<O.length;e+=1){const n=O[e];T.has(n)||(T.add(n),n())}O.length=0}while(S.length);for(;Y.length;)Y.pop()();R=!1,T.clear(),$(t)}function _e(t){if(t.fragment!==null){t.update(),E(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(U)}}const I=new Set;let w;function D(){w={r:0,c:[],p:w}}function K(){w.r||E(w.c),w=w.p}function g(t,e){t&&t.i&&(I.delete(t),t.i(e))}function v(t,e,n,o){if(t&&t.o){if(I.has(t))return;I.add(t),w.c.push(()=>{I.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}function Z(t,e){const n=e.token={};function o(r,u,c,i){if(e.token!==n)return;e.resolved=i;let l=e.ctx;c!==void 0&&(l=l.slice(),l[c]=i);const s=r&&(e.current=r)(l);let f=!1;e.block&&(e.blocks?e.blocks.forEach((a,h)=>{h!==u&&a&&(D(),v(a,1,1,()=>{e.blocks[h]===a&&(e.blocks[h]=null)}),K())}):e.block.d(1),s.c(),g(s,1),s.m(e.mount(),e.anchor),f=!0),e.block=s,e.blocks&&(e.blocks[u]=s),f&&z()}if(le(t)){const r=ae();if(t.then(u=>{$(r),o(e.then,1,e.value,u),$(null)},u=>{if($(r),o(e.catch,2,e.error,u),$(null),!e.hasCatch)throw u}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}function me(t,e,n){const o=e.slice(),{resolved:r}=t;t.current===t.then&&(o[t.value]=r),t.current===t.catch&&(o[t.error]=r),t.block.p(o,n)}function pe(t,e){const n={},o={},r={$$scope:1};let u=t.length;for(;u--;){const c=t[u],i=e[u];if(i){for(const l in c)l in i||(o[l]=1);for(const l in i)r[l]||(n[l]=i[l],r[l]=1);t[u]=i}else for(const l in c)r[l]=1}for(const c in o)c in n||(n[c]=void 0);return n}function ge(t){return typeof t=="object"&&t!==null?t:{}}function G(t){t&&t.c()}function B(t,e,n,o){const{fragment:r,after_update:u}=t.$$;r&&r.m(e,n),o||U(()=>{const c=t.$$.on_mount.map(ne).filter(re);t.$$.on_destroy?t.$$.on_destroy.push(...c):E(c),t.$$.on_mount=[]}),u.forEach(U)}function P(t,e){const n=t.$$;n.fragment!==null&&(E(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function be(t,e){t.$$.dirty[0]===-1&&(S.push(t),he(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function q(t,e,n,o,r,u,c,i=[-1]){const l=N;$(t);const s=t.$$={fragment:null,ctx:[],props:u,update:d,not_equal:r,bound:H(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:H(),dirty:i,skip_bound:!1,root:e.target||l.$$.root};c&&c(s.root);let f=!1;if(s.ctx=n?n(t,e.props||{},(a,h,...b)=>{const j=b.length?b[0]:h;return s.ctx&&r(s.ctx[a],s.ctx[a]=j)&&(!s.skip_bound&&s.bound[a]&&s.bound[a](j),f&&be(t,a)),h}):[],s.update(),f=!0,E(s.before_update),s.fragment=o?o(s.ctx):!1,e.target){if(e.hydrate){const a=fe(e.target);s.fragment&&s.fragment.l(a),a.forEach(p)}else s.fragment&&s.fragment.c();e.intro&&g(t.$$.fragment),B(t,e.target,e.anchor,e.customElement),z()}$(l)}class F{$destroy(){P(this,1),this.$destroy=d}$on(e,n){if(!re(n))return d;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(n),()=>{const r=o.indexOf(n);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!ue(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ye(t){let e,n,o,r,u,c,i,l,s,f,a;return{c(){e=m("form"),n=m("label"),o=m("span"),o.textContent="Introduce tu película:",r=C(),u=m("input"),c=C(),i=m("button"),i.textContent="Buscar película",l=C(),s=m("hr"),y(o,"class","svelte-chnmvw"),y(u,"name","movie"),y(u,"placeholder","Avengers, The Matrix, etc."),y(u,"class","svelte-chnmvw"),y(n,"class","svelte-chnmvw"),y(i,"type","submit")},m(h,b){k(h,e,b),_(e,n),_(n,o),_(n,r),_(n,u),W(u,t[1]),_(e,c),_(e,i),k(h,l,b),k(h,s,b),f||(a=[Q(u,"input",t[2]),Q(e,"submit",se(t[3]))],f=!0)},p(h,[b]){b&2&&u.value!==h[1]&&W(u,h[1])},i:d,o:d,d(h){h&&p(e),h&&p(l),h&&p(s),f=!1,E(a)}}}function ke(t,e,n){let o="",{onSubmit:r}=e;function u(){o=this.value,n(1,o)}const c=()=>r(o);return t.$$set=i=>{"onSubmit"in i&&n(0,r=i.onSubmit)},[r,o,u,c]}class $e extends F{constructor(e){super(),q(this,e,ke,ye,M,{onSubmit:0})}}function ve(t){let e,n,o,r,u,c,i,l,s;return{c(){e=m("article"),n=m("h3"),o=x(t[0]),r=x(" ("),u=x(t[1]),c=x(")"),i=C(),l=m("img"),y(l,"alt",t[0]),J(l.src,s=t[2])||y(l,"src",s)},m(f,a){k(f,e,a),_(e,n),_(n,o),_(n,r),_(n,u),_(n,c),_(e,i),_(e,l)},p(f,[a]){a&1&&V(o,f[0]),a&2&&V(u,f[1]),a&1&&y(l,"alt",f[0]),a&4&&!J(l.src,s=f[2])&&y(l,"src",s)},i:d,o:d,d(f){f&&p(e)}}}function we(t,e,n){let{title:o}=e,{year:r}=e,{poster:u}=e;return t.$$set=c=>{"title"in c&&n(0,o=c.title),"year"in c&&n(1,r=c.year),"poster"in c&&n(2,u=c.poster)},[o,r,u]}class xe extends F{constructor(e){super(),q(this,e,we,ve,M,{title:0,year:1,poster:2})}}function ee(t,e,n){const o=t.slice();return o[1]=e[n],o}function Ee(t){let e;return{c(){e=m("p"),e.textContent="Usa el formulario para buscar una película"},m(n,o){k(n,e,o)},p:d,i:d,o:d,d(n){n&&p(e)}}}function Se(t){let e,n,o=t[0],r=[];for(let c=0;c<o.length;c+=1)r[c]=te(ee(t,o,c));const u=c=>v(r[c],1,1,()=>{r[c]=null});return{c(){for(let c=0;c<r.length;c+=1)r[c].c();e=oe()},m(c,i){for(let l=0;l<r.length;l+=1)r[l].m(c,i);k(c,e,i),n=!0},p(c,i){if(i&1){o=c[0];let l;for(l=0;l<o.length;l+=1){const s=ee(c,o,l);r[l]?(r[l].p(s,i),g(r[l],1)):(r[l]=te(s),r[l].c(),g(r[l],1),r[l].m(e.parentNode,e))}for(D(),l=o.length;l<r.length;l+=1)u(l);K()}},i(c){if(!n){for(let i=0;i<o.length;i+=1)g(r[i]);n=!0}},o(c){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)v(r[i]);n=!1},d(c){ie(r,c),c&&p(e)}}}function Ce(t){let e;return{c(){e=m("p"),e.textContent="No hay resultados"},m(n,o){k(n,e,o)},p:d,i:d,o:d,d(n){n&&p(e)}}}function te(t){let e,n;const o=[t[1]];let r={};for(let u=0;u<o.length;u+=1)r=ce(r,o[u]);return e=new xe({props:r}),{c(){G(e.$$.fragment)},m(u,c){B(e,u,c),n=!0},p(u,c){const i=c&1?pe(o,[ge(u[1])]):{};e.$set(i)},i(u){n||(g(e.$$.fragment,u),n=!0)},o(u){v(e.$$.fragment,u),n=!1},d(u){P(e,u)}}}function Ne(t){let e,n,o,r;const u=[Ce,Se,Ee],c=[];function i(l,s){var f,a;return((f=l[0])==null?void 0:f.length)===0?0:(a=l[0])!=null&&a.length?1:2}return e=i(t),n=c[e]=u[e](t),{c(){n.c(),o=oe()},m(l,s){c[e].m(l,s),k(l,o,s),r=!0},p(l,[s]){let f=e;e=i(l),e===f?c[e].p(l,s):(D(),v(c[f],1,1,()=>{c[f]=null}),K(),n=c[e],n?n.p(l,s):(n=c[e]=u[e](l),n.c()),g(n,1),n.m(o.parentNode,o))},i(l){r||(g(n),r=!0)},o(l){v(n),r=!1},d(l){c[e].d(l),l&&p(o)}}}function je(t,e,n){let{movies:o}=e;return t.$$set=r=>{"movies"in r&&n(0,o=r.movies)},[o]}class Ae extends F{constructor(e){super(),q(this,e,je,Ne,M,{movies:0})}}function Le(t){return{c:d,m:d,p:d,i:d,o:d,d}}function Oe(t){let e,n;return e=new Ae({props:{movies:t[4]}}),{c(){G(e.$$.fragment)},m(o,r){B(e,o,r),n=!0},p(o,r){const u={};r&1&&(u.movies=o[4]),e.$set(u)},i(o){n||(g(e.$$.fragment,o),n=!0)},o(o){v(e.$$.fragment,o),n=!1},d(o){P(e,o)}}}function Ie(t){let e;return{c(){e=m("p"),e.textContent="Cargando..."},m(n,o){k(n,e,o)},p:d,i:d,o:d,d(n){n&&p(e)}}}function Me(t){let e,n,o,r,u;n=new $e({props:{onSubmit:t[1]}});let c={ctx:t,current:null,token:null,hasCatch:!1,pending:Ie,then:Oe,catch:Le,value:4,blocks:[,,,]};return Z(r=t[0],c),{c(){e=m("main"),G(n.$$.fragment),o=C(),c.block.c()},m(i,l){k(i,e,l),B(n,e,null),_(e,o),c.block.m(e,c.anchor=null),c.mount=()=>e,c.anchor=null,u=!0},p(i,[l]){t=i,c.ctx=t,l&1&&r!==(r=t[0])&&Z(r,c)||me(c,t,l)},i(i){u||(g(n.$$.fragment,i),g(c.block),u=!0)},o(i){v(n.$$.fragment,i);for(let l=0;l<3;l+=1){const s=c.blocks[l];v(s)}u=!1},d(i){i&&p(e),P(n),c.block.d(),c.token=null,c=null}}}const Be="https://www.omdbapi.com/?apikey=39b5df46";function Pe(t,e,n){let o,r="";const u=i=>{if(i.length<=2){alert("Introduce más de 2 letras para buscar");return}n(2,r=i)},c=async i=>{const l=await fetch(`${Be}&s=${i}`);if(!l.ok)return[];const s=await l.json(),{Response:f,Search:a}=await s;return f==="False"?[]:a.map(({Title:h,Year:b,Poster:j})=>({title:h,year:b,poster:j}))};return t.$$.update=()=>{t.$$.dirty&4&&r.length>2&&n(0,o=c(r))},[o,u,r]}class qe extends F{constructor(e){super(),q(this,e,Pe,Me,M,{})}}new qe({target:document.getElementById("app")});
